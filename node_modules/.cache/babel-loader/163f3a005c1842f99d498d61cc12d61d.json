{"ast":null,"code":"var _jsxFileName = \"/Users/lukeflannery/Documents/Northcoders_work/FRONT/Week9/flannery-nc-news-react/src/components/Articles/Article.voteUpdater.js\";\nimport React from \"react\";\nimport * as api from \"../../utils/api\";\n\nclass ArticleVoteUpdater extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      voteDifference: 0,\n      err: \"\"\n    };\n\n    this.handleVote = voteChange => {\n      const {\n        id\n      } = this.props;\n      this.setState(currState => {\n        return {\n          voteDifference: currState.voteDifference + voteChange\n        };\n      });\n      api.UpdateArticleVotes(id, voteChange).catch(() => {\n        this.setState(currState => {\n          return {\n            voteDifference: currState.voteDifference - voteChange,\n            err: \"Sorry, try again later\"\n          };\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      votes\n    } = this.props;\n    const {\n      voteDifference\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"authorDateVoteP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"voteBut\",\n      onClick: () => this.handleVote(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 11\n      }\n    }, \"\\u2191\"), \" \", votes + voteDifference, \" Votes\", \" \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"voteBut\",\n      onClick: () => this.handleVote(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 11\n      }\n    }, \"\\u2193\")));\n  }\n\n}\n\nexport default ArticleVoteUpdater;","map":{"version":3,"sources":["/Users/lukeflannery/Documents/Northcoders_work/FRONT/Week9/flannery-nc-news-react/src/components/Articles/Article.voteUpdater.js"],"names":["React","api","ArticleVoteUpdater","Component","state","voteDifference","err","handleVote","voteChange","id","props","setState","currState","UpdateArticleVotes","catch","render","votes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,iBAArB;;AAEA,MAAMC,kBAAN,SAAiCF,KAAK,CAACG,SAAvC,CAAiD;AAAA;AAAA;AAAA,SAC/CC,KAD+C,GACvC;AACNC,MAAAA,cAAc,EAAE,CADV;AAENC,MAAAA,GAAG,EAAE;AAFC,KADuC;;AAAA,SAwB/CC,UAxB+C,GAwBjCC,UAAD,IAAgB;AAC3B,YAAM;AAAEC,QAAAA;AAAF,UAAS,KAAKC,KAApB;AACA,WAAKC,QAAL,CAAeC,SAAD,IAAe;AAC3B,eAAO;AAAEP,UAAAA,cAAc,EAAEO,SAAS,CAACP,cAAV,GAA2BG;AAA7C,SAAP;AACD,OAFD;AAGAP,MAAAA,GAAG,CAACY,kBAAJ,CAAuBJ,EAAvB,EAA2BD,UAA3B,EAAuCM,KAAvC,CAA6C,MAAM;AACjD,aAAKH,QAAL,CAAeC,SAAD,IAAe;AAC3B,iBAAO;AACLP,YAAAA,cAAc,EAAEO,SAAS,CAACP,cAAV,GAA2BG,UADtC;AAELF,YAAAA,GAAG,EAAE;AAFA,WAAP;AAID,SALD;AAMD,OAPD;AAQD,KArC8C;AAAA;;AAM/CS,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKN,KAAvB;AACA,UAAM;AAAEL,MAAAA;AAAF,QAAqB,KAAKD,KAAhC;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,OAAO,EAAE,MAAM,KAAKG,UAAL,CAAgB,CAAhB,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAGY,GAHZ,EAIGS,KAAK,GAAGX,cAJX,YAIiC,GAJjC,eAKE;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,OAAO,EAAE,MAAM,KAAKE,UAAL,CAAgB,CAAC,CAAjB,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF,CADF;AAaD;;AAtB8C;;AAwCjD,eAAeL,kBAAf","sourcesContent":["import React from \"react\";\nimport * as api from \"../../utils/api\";\n\nclass ArticleVoteUpdater extends React.Component {\n  state = {\n    voteDifference: 0,\n    err: \"\",\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voteDifference } = this.state;\n    return (\n      <div>\n        <p className=\"authorDateVoteP\">\n          <button className=\"voteBut\" onClick={() => this.handleVote(1)}>\n            &#8593;\n          </button>{\" \"}\n          {votes + voteDifference} Votes{\" \"}\n          <button className=\"voteBut\" onClick={() => this.handleVote(-1)}>\n            &#8595;\n          </button>\n        </p>\n      </div>\n    );\n  }\n\n  handleVote = (voteChange) => {\n    const { id } = this.props;\n    this.setState((currState) => {\n      return { voteDifference: currState.voteDifference + voteChange };\n    });\n    api.UpdateArticleVotes(id, voteChange).catch(() => {\n      this.setState((currState) => {\n        return {\n          voteDifference: currState.voteDifference - voteChange,\n          err: \"Sorry, try again later\",\n        };\n      });\n    });\n  };\n}\n\nexport default ArticleVoteUpdater;\n"]},"metadata":{},"sourceType":"module"}